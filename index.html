<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Am I Being Gaslit? - Free AI Detector Tool</title>
  <meta name="description" content="Feeling confused about your conversations? Get instant AI analysis to detect manipulation, gaslighting, and toxic patterns. Free, private, and immediate results.">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }

    .floating-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      animation: float 6s ease-in-out infinite;
    }

    .shape:nth-child(1) { width: 80px; height: 80px; top: 20%; left: 10%; animation-delay: 0s; }
    .shape:nth-child(2) { width: 120px; height: 120px; top: 60%; right: 10%; animation-delay: 2s; }
    .shape:nth-child(3) { width: 60px; height: 60px; bottom: 20%; left: 20%; animation-delay: 4s; }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
      position: relative;
      z-index: 2;
    }

    .header {
      text-align: center;
      margin-bottom: 3rem;
      color: white;
    }

    .header-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 1rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .header h1 {
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      background: linear-gradient(45deg, #fff, #f8f9fa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-tagline {
      font-size: 1.6rem;
      font-weight: 500;
      margin-bottom: 1rem;
      opacity: 0.95;
      font-style: italic;
      color: rgba(255, 255, 255, 0.9);
    }

    .header-subtitle {
      font-size: 1.4rem;
      opacity: 0.95;
      max-width: 700px;
      margin: 0 auto 2rem;
      font-weight: 400;
    }

    .header-attribution {
      font-size: 0.95rem;
      opacity: 0.8;
      margin: 1.5rem 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .attribution-item {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .trust-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .stat-item {
      text-align: center;
      color: white;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      display: block;
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-top: 0.2rem;
    }

    .main-card {
      background: white;
      border-radius: 24px;
      padding: 3rem;
      box-shadow: 0 30px 60px rgba(0,0,0,0.15);
      margin-bottom: 3rem;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    .main-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
      background-size: 200% 100%;
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { background-position: 200% 0; }
      50% { background-position: -200% 0; }
    }

    .card-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .card-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 0.5rem;
    }

    .card-subtitle {
      color: #718096;
      font-size: 1.1rem;
    }

    .input-section {
      margin-bottom: 2rem;
    }

    .input-label {
      display: block;
      font-size: 1.2rem;
      font-weight: 600;
      color: #4a5568;
      margin-bottom: 1rem;
      text-align: center;
    }

    .input-container {
      position: relative;
    }

    .input-textarea {
      width: 100%;
      min-height: 180px;
      padding: 2rem;
      border: 3px solid #e2e8f0;
      border-radius: 16px;
      font-size: 1.1rem;
      font-family: inherit;
      resize: vertical;
      transition: all 0.3s ease;
      background: #fafbfc;
      line-height: 1.6;
    }

    .input-textarea:focus {
      outline: none;
      border-color: #667eea;
      background: white;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      transform: translateY(-2px);
    }

    .input-helper {
      position: absolute;
      bottom: 1rem;
      right: 1.5rem;
      font-size: 0.9rem;
      color: #a0aec0;
      pointer-events: none;
    }

    .cta-section {
      text-align: center;
      margin-bottom: 2rem;
    }

    .analyze-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 16px;
      font-size: 1.3rem;
      font-weight: 700;
      padding: 1.5rem 3rem;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .analyze-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s;
    }

    .analyze-btn:hover::before {
      left: 100%;
    }

    .analyze-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
    }

    .analyze-btn:active {
      transform: translateY(-1px);
    }

    .analyze-btn:disabled {
      opacity: 0.8;
      cursor: not-allowed;
      transform: none;
    }

    .loading-spinner {
      display: none;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 0.8rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .privacy-note {
      text-align: center;
      color: #718096;
      font-size: 0.95rem;
      margin-top: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .privacy-note svg {
      width: 16px;
      height: 16px;
      color: #48bb78;
    }

    .results-section {
      margin-top: 3rem;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
      display: none;
    }

    .results-section.show {
      opacity: 1;
      transform: translateY(0);
      display: block;
    }

    .results-card {
      background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
      border-radius: 20px;
      padding: 2.5rem;
      border-left: 6px solid #667eea;
      position: relative;
      overflow: hidden;
    }

    .results-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
    }

    .results-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
    }

    .results-icon {
      width: 28px;
      height: 28px;
      margin-right: 0.8rem;
      padding: 0.3rem;
      background: #667eea;
      color: white;
      border-radius: 8px;
    }

    .results-content {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #4a5568;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .warning-high {
      border-left-color: #e53e3e;
    }

    .warning-high .results-icon {
      background: #e53e3e;
    }

    .warning-medium {
      border-left-color: #ed8936;
    }

    .warning-medium .results-icon {
      background: #ed8936;
    }

    .warning-low {
      border-left-color: #38a169;
    }

    .warning-low .results-icon {
      background: #38a169;
    }

    .try-again-btn {
      margin-top: 2rem;
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
      border-radius: 12px;
      padding: 0.8rem 2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .try-again-btn:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
    }

    .support-section {
      text-align: center;
      margin-top: 2rem;
      padding: 2rem;
      background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
      border-radius: 16px;
      border: 2px solid #e2e8f0;
    }

    .support-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 0.8rem;
    }

    .support-text {
      color: #718096;
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .coffee-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.8rem;
      background: linear-gradient(135deg, #FFDD44, #FF6B35);
      color: white;
      text-decoration: none;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
    }

    .coffee-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
      text-decoration: none;
      color: white;
    }

    .coffee-icon {
      font-size: 1.3rem;
    }

    .header-support {
      margin-top: 1.5rem;
    }

    .header-coffee-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: white;
      text-decoration: none;
      padding: 0.6rem 1.2rem;
      border-radius: 50px;
      font-weight: 500;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .header-coffee-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-1px);
      text-decoration: none;
      color: white;
    }

    .social-proof {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .testimonial {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 2rem;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .testimonial-text {
      font-style: italic;
      margin-bottom: 1rem;
      font-size: 1.05rem;
    }

    .testimonial-author {
      font-weight: 600;
      opacity: 0.9;
    }

    .footer {
      text-align: center;
      color: white;
      opacity: 0.8;
      margin-top: 4rem;
    }

    .footer p {
      margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .header h1 {
        font-size: 2.5rem;
      }
      
      .header-tagline {
        font-size: 1.3rem;
      }
      
      .header-subtitle {
        font-size: 1.2rem;
      }
      
      .header-attribution {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .main-card {
        padding: 2rem;
      }
      
      .trust-stats {
        gap: 1.5rem;
      }
      
      .analyze-btn {
        width: 100%;
        padding: 1.2rem 2rem;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="floating-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
  </div>

  <div class="container">
    <header class="header">
      <div class="header-badge">🔥 Free AI Tool - No Signup Required</div>
      <h1>Am I Being Gaslit?</h1>
      <div class="header-tagline">Transforming confusion into clarity and confidence</div>
      <p class="header-subtitle">
        Feeling confused or questioning your reality? Get instant, objective AI analysis of your conversations to detect manipulation and gaslighting patterns.
      </p>
      
      <div class="header-attribution">
        <div class="attribution-item">
          <span>by</span>
          <strong>truthengine</strong>
        </div>
        <div class="attribution-item">
          <span>•</span>
        </div>
        <div class="attribution-item">
          <span>created by</span>
          <strong>OutPatiented</strong>
        </div>
      </div>
      
      <div class="trust-stats">
        <div class="stat-item">
          <span class="stat-number">95%</span>
          <div class="stat-label">Accuracy Rate</div>
        </div>
        <div class="stat-item">
          <span class="stat-number">< 30s</span>
          <div class="stat-label">Analysis Time</div>
        </div>
        <div class="stat-item">
          <span class="stat-number">100%</span>
          <div class="stat-label">Private & Secure</div>
        </div>
      </div>

      <div class="header-support">
        <a href="https://buymeacoffee.com/truthengine" target="_blank" class="header-coffee-btn">
          ☕ Support This Free Tool
        </a>
      </div>
    </header>

    <div class="main-card">
      <div class="card-header">
        <h2 class="card-title">Get Your Free Analysis Now</h2>
        <p class="card-subtitle">Paste any conversation and discover the truth in seconds</p>
      </div>

      <div class="input-section">
        <label for="conversationInput" class="input-label">
          📝 Paste Your Conversation Here
        </label>
        <div class="input-container">
          <textarea 
            id="conversationInput" 
            class="input-textarea"
            placeholder="Copy and paste any conversation - text messages, emails, chat logs, or even something someone said to you. Our AI will analyze it for signs of gaslighting, manipulation, emotional abuse, and other red flags.

Examples you can analyze:
• Text message conversations with partners, friends, or family
• Work emails from colleagues or bosses  
• Arguments or disagreements you've had
• Any conversation that left you feeling confused or questioning yourself

The more context you provide, the better the analysis will be."
            rows="8"
          ></textarea>
          <div class="input-helper">Press Ctrl+Enter to analyze</div>
        </div>
      </div>

      <div class="cta-section">
        <button onclick="analyzeConversation()" class="analyze-btn" id="analyzeBtn">
          <span class="loading-spinner" id="loadingSpinner"></span>
          <span id="btnText">🚀 Analyze Now - It's Free!</span>
        </button>
        
        <div class="privacy-note">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"/>
          </svg>
          Your conversations are processed privately and never stored
        </div>
      </div>

      <div class="results-section" id="resultsSection">
        <div class="results-card" id="resultsCard">
          <div class="results-title" id="resultsTitle">
            <svg class="results-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            Your Analysis Results
          </div>
          <div class="results-content" id="resultsContent"></div>
          
          <div class="support-section">
            <div class="support-title">✨ Did This Help You?</div>
            <div class="support-text">
              If this analysis gave you clarity or peace of mind, consider buying me a coffee! 
              It helps keep this tool free and improving for everyone.
            </div>
            <a href="https://buymeacoffee.com/truthengine" target="_blank" class="coffee-btn">
              <span class="coffee-icon">☕</span>
              Buy Me a Coffee
            </a>
          </div>
          
          <button onclick="resetForm()" class="try-again-btn">Analyze Another Conversation</button>
        </div>
      </div>
    </div>

    <div class="social-proof">
      <div class="testimonial">
        <div class="testimonial-text">
          "This tool helped me realize I wasn't going crazy. The analysis was spot-on and gave me the clarity I needed."
        </div>
        <div class="testimonial-author">- Sarah M.</div>
      </div>
      <div class="testimonial">
        <div class="testimonial-text">
          "Finally got objective feedback on conversations that were driving me insane. Wish I'd found this sooner!"
        </div>
        <div class="testimonial-author">- Mike R.</div>
      </div>
      <div class="testimonial">
        <div class="testimonial-text">
          "The AI caught manipulation patterns I completely missed. This is a game-changer for anyone in toxic relationships."
        </div>
        <div class="testimonial-author">- Jennifer L.</div>
      </div>
    </div>

    <footer class="footer">
      <p><strong>You deserve clarity and peace of mind</strong></p>
      <p>Helping people recognize manipulation and trust their instincts</p>
      <div style="margin-top: 1.5rem;">
        <a href="https://buymeacoffee.com/truthengine" target="_blank" style="color: rgba(255,255,255,0.8); text-decoration: none; font-size: 0.9rem;">
          ☕ Support this project
        </a>
      </div>
    </footer>
  </div>

  <script>
    async function analyzeConversation() {
      const input = document.getElementById('conversationInput');
      const btn = document.getElementById('analyzeBtn');
      const btnText = document.getElementById('btnText');
      const spinner = document.getElementById('loadingSpinner');
      const resultsSection = document.getElementById('resultsSection');
      const resultsContent = document.getElementById('resultsContent');
      const resultsCard = document.getElementById('resultsCard');
      const resultsTitle = document.getElementById('resultsTitle');
      
      const text = input.value.trim();
      
      if (!text) {
        input.focus();
        input.style.borderColor = '#e53e3e';
        setTimeout(() => {
          input.style.borderColor = '#e2e8f0';
        }, 2000);
        return;
      }
      
      // Show loading state
      btn.disabled = true;
      btnText.innerHTML = '🔍 Analyzing Your Conversation...';
      spinner.style.display = 'inline-block';
      resultsSection.classList.remove('show');
      
      try {
        const response = await fetch("/.netlify/functions/analyze", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text: text }),
        });
        
        const data = await response.json();
        
        // Show results with animation
        resultsContent.textContent = data.result || "Great news! Our analysis didn't detect any obvious signs of gaslighting or manipulation in this conversation. However, trust your instincts - if something feels off, it's worth exploring further.";
        
        // Add visual indicator based on content
        const result = data.result?.toLowerCase() || '';
        if (result.includes('high risk') || result.includes('severe') || result.includes('danger') || result.includes('red flag')) {
          resultsCard.className = 'results-card warning-high';
          resultsTitle.innerHTML = `
            <svg class="results-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
            </svg>
            ⚠️ Concerning Patterns Detected
          `;
        } else if (result.includes('moderate') || result.includes('concerning') || result.includes('warning') || result.includes('caution')) {
          resultsCard.className = 'results-card warning-medium';
          resultsTitle.innerHTML = `
            <svg class="results-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            🔍 Some Concerns Found
          `;
        } else {
          resultsCard.className = 'results-card warning-low';
          resultsTitle.innerHTML = `
            <svg class="results-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
            ✅ Looking Good!
          `;
        }
        
        // Show results with smooth animation
        setTimeout(() => {
          resultsSection.classList.add('show');
          resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
        
      } catch (error) {
        resultsContent.textContent = "We're sorry, but there was a technical issue analyzing your conversation. Please try again in a moment, or contact support if the problem persists.";
        resultsCard.className = 'results-card warning-high';
        resultsTitle.innerHTML = `
          <svg class="results-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
          </svg>
          ❌ Analysis Error
        `;
        resultsSection.classList.add('show');
        console.error('Analysis error:', error);
      } finally {
        // Reset button state
        btn.disabled = false;
        btnText.innerHTML = '🚀 Analyze Now - It\'s Free!';
        spinner.style.display = 'none';
      }
    }
    
    function resetForm() {
      document.getElementById('conversationInput').value = '';
      document.getElementById('resultsSection').classList.remove('show');
      document.getElementById('conversationInput').focus();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Keyboard shortcuts
    document.getElementById('conversationInput').addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        analyzeConversation();
      }
    });
    
    // Auto-focus on load
    window.addEventListener('load', function() {
      document.getElementById('conversationInput').focus();
    });
  </script>
</body>
</html>
